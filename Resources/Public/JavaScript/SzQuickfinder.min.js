/*! 
* szQuickfinder - v4.1.0 (https://github.com/sunzinetAG/sz-quickfinder)
* Copyright (c) 2022 Dennis RÃ¶mmich (SUNZINET GmbH) info@sunzinet.com
* Licensed under the MIT license
*/
var quickfinder={quickfinderEl:[],listView:[],resultsPerPage:10,results:[],currentPage:1,paginator:[],init:function(){this.quickfinderEl=$(".tx-sz-quickfinder"),this.quickfinderEl.length&&(this.listView=this.quickfinderEl.find(".quickfinder-listview")),this.listView.length&&this.initQuickfinderList()},initQuickfinderList:function(){this.findAllResults(),this.paginator=$("#szquickfinder-paginator"),this.pages=this.paginator.find(".pages"),$(".tx-sz-quickfinder #section-bar a[data-display]").on("click",this.onSectionClick),this.resetPaginator(this.results.length),this.paginator.on("click","> a",this.onClickNavigation)},findAllResults:function(){this.results=this.listView.find(".results-list > a")},navigatePage:function(a){"-1"===a?a=parseInt(quickfinder.currentPage)-1:"+1"===a&&(a=parseInt(quickfinder.currentPage)+1);var b=a*quickfinder.resultsPerPage-quickfinder.resultsPerPage;switch(quickfinder.results.addClass("hidden"),quickfinder.results.slice(b,b+quickfinder.resultsPerPage).removeClass("hidden"),!0){case a<=1:quickfinder.paginator.find(".prev").addClass("hidden"),quickfinder.pageAmount>1&&quickfinder.paginator.find(".next").removeClass("hidden");break;case a>=quickfinder.pageAmount:quickfinder.paginator.find(".next").addClass("hidden"),quickfinder.pageAmount>1&&quickfinder.paginator.find(".prev").removeClass("hidden");break;default:quickfinder.paginator.find(".prev,.next").removeClass("hidden")}quickfinder.pages.find(".active").removeClass("active"),quickfinder.paginator.find('a[data-page="'+a+'"]').addClass("active"),quickfinder.currentPage=a},resetPaginator:function(a){this.currentPage=1;var b=this.pageAmount=Math.ceil(a/this.resultsPerPage);if(this.pages.empty(),this.paginator.find("a").addClass("hidden"),b>1){this.paginator.find(".next").removeClass("hidden");for(var c=1;c<=b;c++)this.pages.append($('<a href="#" data-page="'+c+'">'+c+"</a>"));this.pages.on("click","a",this.onClickNavigation)}this.navigatePage(1)},onClickNavigation:function(a){quickfinder.navigatePage(a.target.dataset.page),a.preventDefault()},onSectionClick:function(a){var b="A"===a.target.tagName?$(a.target):$(a.target.parentNode),c=b.data("display"),d=$("#section-bar");a.preventDefault(),d.parent().find("> .results").removeClass("hidden"),"all"!==c?(d.parent().find("> .results:not(."+c+"-results)").addClass("hidden"),quickfinder.results=d.parent().find("> ."+c+"-results > .results-list > a")):quickfinder.findAllResults(),quickfinder.resetPaginator(quickfinder.results.length),d.find(".active").removeClass("active"),b.addClass("active")}}(function(a){"use strict";var b=1402582595,c=null,d=function(){var d=a(".tx-quickfinder-searchbox-sword");d.attr("autocomplete","off");var e=a(".tx-quickfinder-searchbox-results");d.bind("click keyup",function(d){var f=jQuery(this),g=a("body").attr("data-languid");c&&clearTimeout(c),c=setTimeout(function(){e.show(),"click"!=d.type&&jQuery(".tx-quickfinder-searchbox-results").html('<div class="ajax-loader"></div>'),f.val().length>2?a.ajax({url:window.location.origin+"/?type="+b+"&L="+g+"&tx_szquickfinder_autocomplete[searchString]="+encodeURIComponent(f.val()),success:function(a){e.html(a)},error:function(a){}}):(e.hide(),e.html(""))},300)}),a(document).bind("click keyup",function(b){e.is(b.target)||0!==e.has(b.target).length||a(b.target).hasClass("tx-quickfinder-searchbox-sword")||e.hide()})};a(function(){d()}),a(document).ready(function(){quickfinder.init()})})(jQuery);